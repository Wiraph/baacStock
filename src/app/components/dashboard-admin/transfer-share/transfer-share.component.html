<div *ngIf="activeView == 'search'">
    <app-search-edit (statusView)="onTransferStockSelected($event)"></app-search-edit>
</div>

<div *ngIf="activeView === 'transfer'">
    <div class="m-4 rounded-md shadow-md bg-white">
        <p class="text-center py-3 rounded-t-md bg-green-400 text-xl font-semibold text-white">‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡πÉ‡∏ö‡∏´‡∏∏‡πâ‡∏ô :
            ‡∏≠‡∏≠‡∏Å‡πÉ‡∏ö‡∏´‡∏∏‡πâ‡∏ô‡πÉ‡∏´‡∏°‡πà‡πÅ‡∏ó‡∏ô‡πÉ‡∏ö‡∏´‡∏∏‡πâ‡∏ô‡∏ó‡∏µ‡πà‡∏ä‡∏≥‡∏£‡∏∏‡∏î/‡∏™‡∏π‡∏ç‡∏´‡∏≤‡∏¢</p>
        <div class="text-center py-4 gap-4">
            <div class="flex justify-center gap-4">
                <p>‡∏ö‡∏±‡∏ï‡∏£‡πÅ‡∏™‡∏î‡∏á‡∏ï‡∏ô‡πÄ‡∏•‡∏Ç‡∏ó‡∏µ‡πà : {{ customerData.cusiD }}</p>
                <p>‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞ : {{ customerData.staDesc }} </p>
            </div>
            <p>‡∏ä‡∏∑‡πà‡∏≠ - ‡∏ô‡∏≤‡∏°‡∏™‡∏Å‡∏∏‡∏• : {{ customerData.title }}{{ customerData.fname }} {{ customerData.lname }}</p>
        </div>
        <div class="p-4">
            <table class="table-auto w-full border border-gray-300 rounded-lg shadow-sm">
                <thead>
                    <tr class="bg-blue-600 text-white text-sm uppercase tracking-wider">
                        <th class="px-4 py-2 text-center">‡∏•‡∏≥‡∏î‡∏±‡∏ö</th>
                        <th class="px-4 py-2 text-left">‡∏™‡∏≤‡∏Ç‡∏≤</th>
                        <th class="px-4 py-2 text-left">‡∏´‡∏°‡∏≤‡∏¢‡πÄ‡∏•‡∏Ç‡πÉ‡∏ö‡∏´‡∏∏‡πâ‡∏ô</th>
                        <th class="px-4 py-2 text-left">‡∏´‡∏°‡∏≤‡∏¢‡πÄ‡∏•‡∏Ç‡πÉ‡∏ö‡∏´‡∏∏‡πâ‡∏ô‡πÄ‡∏î‡∏¥‡∏°</th>
                        <th class="px-4 py-2 text-left">‡∏´‡∏°‡∏≤‡∏¢‡πÄ‡∏•‡∏Ç‡∏´‡∏∏‡πâ‡∏ô</th>
                        <th class="px-4 py-2 text-right">‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡∏´‡∏∏‡πâ‡∏ô</th>
                        <th class="px-4 py-2 text-right">‡∏°‡∏π‡∏•‡∏Ñ‡πà‡∏≤‡∏´‡∏∏‡πâ‡∏ô</th>
                        <th class="px-4 py-2 text-center">‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞</th>
                        <th class="px-4 py-2 text-center">‡∏ß‡∏±‡∏ô‡πÄ‡∏ß‡∏•‡∏≤‡∏ó‡∏µ‡πà‡∏ó‡∏≥‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£</th>
                        <th class="px-4 py-2 text-center">‡∏≠‡∏≠‡∏Å‡πÉ‡∏ö‡∏´‡∏∏‡πâ‡∏ô‡πÉ‡∏´‡∏°‡πà</th>
                    </tr>
                </thead>
                <tbody class="divide-y divide-gray-200" *ngFor="let item of stkTransList; ">
                    <tr class="hover:bg-gray-50 transition">
                        <td class="px-4 py-2 text-center">{{ item.roWi }}</td>
                        <td class="px-4 py-2">{{ item.brCode }}</td>
                        <td class="px-4 py-2">{{ item.stkNOTE }}</td>
                        <td class="px-4 py-2">{{ item.stkNOTEo }}</td>
                        <td class="px-4 py-2">{{ item.stkNOStart }} - {{ item.stkNOStop }}</td>
                        <td class="px-4 py-2 text-right">{{ item.stkUNiT | number:'1.0-0' }}</td>
                        <td class="px-4 py-2 text-right">{{ item.stkVALUE | number:'1.0-0'}}</td>
                        <td class="px-4 py-2 text-center">{{ item.stDESC }}</td>
                        <td class="px-4 py-2 text-center">{{ formatThaiDateTime(item.datetimeup) || '-' }}</td>
                        <td class="px-4 py-2 text-center">
                            <button class="px-3 py-1 bg-blue-500 text-white rounded hover:bg-blue-600"
                                (click)="onTransferClick(item)">
                                ‡πÇ‡∏≠‡∏ô‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡∏°‡∏∑‡∏≠
                            </button>
                        </td>
                    </tr>
                </tbody>
            </table>
        </div>
    </div>
</div>


<div *ngIf="activeView == 'transfers'" class="max-w-7xl mx-auto p-4 bg-white shadow-lg rounded-lg">
    <div class="bg-green-500 text-white text-center py-3 rounded-t-lg mb-4">
        <h2 class="text-xl font-semibold">‡πÉ‡∏ö‡πÅ‡∏à‡πâ‡∏á‡πÇ‡∏≠‡∏ô‡∏´‡∏∏‡πâ‡∏ô</h2>
    </div>
    <div class="bg-gray-50 p-3 mb-4" *ngIf="selectedcustomer">
        <div class="grid grid-cols-3 gap-2">
            <div>‡πÄ‡∏•‡∏Ç‡∏ö‡∏±‡∏ï‡∏£‡πÅ‡∏™‡∏î‡∏á‡∏ï‡∏ô : {{ selectedcustomer.cusId || '-' }}</div>
            <div>‡∏´‡∏°‡∏≤‡∏¢‡πÄ‡∏•‡∏Ç‡πÉ‡∏ö‡∏´‡∏∏‡πâ‡∏ô : {{ selectedcustomer.stkNote || '-' }}</div>
            <div>‡∏´‡∏°‡∏≤‡∏¢‡πÄ‡∏•‡∏Ç‡∏´‡∏∏‡πâ‡∏ô : {{ selectedcustomer.stkNoStart || '-' }} - {{ selectedcustomer.stkNoStop || '-' }}
            </div>
        </div>
        <div class="grid grid-cols-3 gap-2 mt-1">
            <div>‡∏ä‡∏∑‡πà‡∏≠ - ‡∏ô‡∏≤‡∏°‡∏™‡∏Å‡∏∏‡∏• : {{ selectedcustomer.titleDesc}}{{ selectedcustomer.cusFName}} {{
                selectedcustomer.cusLName}}</div>
            <div>‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞ : {{ selectedcustomer.stDesc || '-' }}</div>
            <div>‡∏à‡∏≥‡∏ô‡∏ß‡∏ô : {{ selectedcustomer.stkUnit || 0 }} ‡∏´‡∏∏‡πâ‡∏ô / {{ selectedcustomer.stkValue || 0 }} ‡∏ö‡∏≤‡∏ó</div>
        </div>

        <div class="border-t border-gray-300 my-4"></div>

        <div class="flex items-center justify-center my-6 space-x-4 text-base font-medium">
            <div class="flex items-center space-x-2">
                <span class="bg-blue-100 text-black px-3 py-1 rounded">‡∏ú‡∏π‡πâ‡πÇ‡∏≠‡∏ô</span>
                <span class="text-gray-400 text-2xl">‚¨ÜÔ∏è-‚¨áÔ∏è</span>
                <span class="bg-blue-100 text-black px-3 py-1 rounded">‡∏ú‡∏π‡πâ‡∏£‡∏±‡∏ö‡πÇ‡∏≠‡∏ô</span>
            </div>
        </div>

        <div class="flex justify-center">
            <form class="space-y-4 w-full">
                <div class="flex items-center space-x-2">
                    <label for="" class="font-medium text-gray-700 w-40">‡πÄ‡∏´‡∏ï‡∏∏‡∏ú‡∏•‡∏Å‡∏≤‡∏£‡πÇ‡∏≠‡∏ô‡∏´‡∏∏‡πâ‡∏ô :</label>
                    <select [(ngModel)]="transferReason" id="reason" name="reason"
                        class="flex-1 border border-gray-300 rounded px-3 py-2 focus:outline-none focus:ring-1 focus:ring-blue-500">
                        <option value="">‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡πÄ‡∏´‡∏ï‡∏∏‡∏ú‡∏•</option>
                        <option *ngFor="let rem of remcodeList" [value]="rem.remCode">
                            {{ rem.remDesc }}
                        </option>
                    </select>
                </div>

                <!-- ‡πÅ‡∏™‡∏î‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ú‡∏π‡πâ‡∏£‡∏±‡∏ö‡πÇ‡∏≠‡∏ô‡πÄ‡∏°‡∏∑‡πà‡∏≠‡∏û‡∏ö -->
                <form [formGroup]="transferForm" class="p-4 mb-4">
                    <div formArrayName="transfers">
                        <div *ngFor="let t of transfers.controls; let i = index" [formGroupName]="i"
                            class="flex flex-col items-start w-full mt-4 p-4 bg-gray-200 rounded shadow">

                            <!-- Row 1 -->
                            <div class="grid grid-cols-2 gap-2 w-full justify-center">
                                <div class="flex items-center justify-end gap-4">
                                    <span class="text-gray-900 w-40 flex justify-end">
                                        {{i+1}} ‡∏ö‡∏±‡∏ï‡∏£‡πÅ‡∏™‡∏î‡∏á‡∏ï‡∏ô‡πÄ‡∏•‡∏Ç‡∏ó‡∏µ‡πà :
                                    </span>
                                    <input type="text"
                                        class="text-gray-500 border-2 bg-blue-100 border-blue-700 rounded font-medium focus:outline-none w-60 px-3 py-2"
                                        formControlName="CUSid" disabled>
                                </div>

                                                                 <div class="flex items-center justify-between w-full">
                                     <div class="flex items-center gap-4">
                                         <span class="font-medium text-gray-700 w-40 flex justify-end">‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡∏´‡∏∏‡πâ‡∏ô :</span>
                                         <input type="number"
                                             class="text-gray-700 border-2 bg-lime-100 border-lime-400 rounded font-medium focus:outline-none w-60 px-3 py-2"
                                             formControlName="CUSun"
                                             [max]="getRemainingSharesForNextPerson(i)"
                                             [min]="1"
                                             (input)="onShareAmountChange(i)">
                                     </div>
                                     <button type="button" (click)="removeAt(i)" class="cursor-pointer hover:shadow-xl">‚ùå</button>
                                 </div>
                            </div>

                            <!-- Row 2 -->
                            <div class="grid grid-cols-2 gap-4 w-full mt-3">
                                <div class="flex items-center justify-end gap-4">
                                    <span class="text-gray-900 w-40 flex justify-end">‡∏ä‡∏∑‡πà‡∏≠ - ‡∏ô‡∏≤‡∏°‡∏™‡∏Å‡∏∏‡∏• :</span>
                                    <input type="text"
                                        class="text-gray-900 rounded font-medium focus:outline-none w-60 px-3 py-2"
                                        formControlName="Name" readonly>
                                </div>
                            </div>

                            <!-- ‡πÄ‡∏á‡∏¥‡∏ô‡∏õ‡∏±‡∏ô‡∏ú‡∏• -->
                            <div class="grid grid-cols-12 gap-3 w-full mt-3">
                                <div class="font-medium text-gray-900 col-span-1">‡πÄ‡∏á‡∏¥‡∏ô‡∏õ‡∏±‡∏ô‡∏ú‡∏• :</div>

                                <div class="flex flex-col gap-2 ml-0 col-span-11">
                                    <!-- ‡πÄ‡∏á‡∏¥‡∏ô‡∏™‡∏î -->
                                    <label class="flex items-center gap-2">
                                        <input type="radio" value="002" formControlName="payTY" />
                                        <span>‡∏£‡∏±‡∏ö‡πÄ‡∏õ‡πá‡∏ô‡πÄ‡∏á‡∏¥‡∏ô‡∏™‡∏î</span>
                                    </label>

                                    <div class="flex">
                                        <!-- ‡∏ö‡∏±‡∏ç‡∏ä‡∏µ‡πÄ‡∏á‡∏¥‡∏ô‡∏ù‡∏≤‡∏Å -->
                                        <label class="flex items-start gap-2 col-span-2">
                                            <div class="items-center flex gap-2">
                                                <input type="radio" value="001" formControlName="payTY" />
                                                <span>‡∏ö‡∏±‡∏ç‡∏ä‡∏µ‡πÄ‡∏á‡∏¥‡∏ô‡∏ù‡∏≤‡∏Å</span>
                                            </div>
                                        </label>

                                        <!-- ‡πÅ‡∏™‡∏î‡∏á‡∏£‡∏≤‡∏¢‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î‡∏ö‡∏±‡∏ç‡∏ä‡∏µ‡πÄ‡∏â‡∏û‡∏≤‡∏∞‡πÄ‡∏°‡∏∑‡πà‡∏≠‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏ö‡∏±‡∏ç‡∏ä‡∏µ‡πÄ‡∏á‡∏¥‡∏ô‡∏ù‡∏≤‡∏Å -->
                                        <div *ngIf="t.get('payTY')?.value === '001'" class="space-y-3">
                                            <!-- ‡∏ö‡∏±‡∏ç‡∏ä‡∏µ‡πÄ‡∏á‡∏¥‡∏ô‡∏ù‡∏≤‡∏Å -->
                                            <div class="grid grid-cols-3 gap-4 items-center">
                                                <div class="text-right font-medium col-span-1">‡∏ö‡∏±‡∏ç‡∏ä‡∏µ‡πÄ‡∏á‡∏¥‡∏ô‡∏ù‡∏≤‡∏Å :</div>
                                                <div class="col-span-2 flex gap-3 items-center">
                                                    <select formControlName="accTY"
                                                        class="text-gray-700 border-2 border-blue-700 bg-blue-100 rounded font-medium focus:outline-none w-60 px-3 py-2" disabled>
                                                        <option *ngFor="let item of accList" [value]="item.accType">
                                                            {{ item.accDesc }}
                                                        </option>
                                                    </select>
                                                    <span>‡πÄ‡∏•‡∏Ç‡∏ó‡∏µ‡πà‡∏ö‡∏±‡∏ç‡∏ä‡∏µ :</span>
                                                    <input type="text" formControlName="accNO"
                                                        class="text-gray-700 border-2 border-lime-400 bg-lime-100 rounded font-medium focus:outline-none w-60 px-3 py-2" />
                                                </div>
                                            </div>

                                            <!-- ‡∏ä‡∏∑‡πà‡∏≠‡∏ö‡∏±‡∏ç‡∏ä‡∏µ -->
                                            <div class="grid grid-cols-3 gap-4 items-center">
                                                <div class="text-right font-medium">‡∏ä‡∏∑‡πà‡∏≠‡∏ö‡∏±‡∏ç‡∏ä‡∏µ :</div>
                                                <div class="col-span-2">
                                                    <input type="text" formControlName="accNA"
                                                        class="text-gray-700 border-2 border-lime-400 bg-lime-100 rounded font-medium focus:outline-none w-60 px-3 py-2" />
                                                </div>
                                            </div>
                                        </div>
                                    </div>

                                    <!-- ‡∏ö‡∏£‡∏¥‡∏à‡∏≤‡∏Ñ -->
                                    <label class="flex items-center gap-2">
                                        <input type="radio" value="003" formControlName="payTY" />
                                        <span>‡∏ö‡∏£‡∏¥‡∏à‡∏≤‡∏Ñ‡πÉ‡∏´‡πâ ‡∏ò.‡∏Å.‡∏™.</span>
                                    </label>
                                </div>
                            </div>
                        </div>
                    </div>
                </form>

                <!-- ‡πÅ‡∏™‡∏î‡∏á‡∏ä‡πà‡∏≠‡∏á‡∏ö‡∏±‡∏ï‡∏£‡πÅ‡∏™‡∏î‡∏á‡∏ï‡∏ô‡∏ï‡∏•‡∏≠‡∏î‡πÄ‡∏ß‡∏•‡∏≤ -->
                <form [formGroup]="searchForm" *ngIf="sesstionSearch" (ngSubmit)="searchReceiver()"
                    class="flex items-center space-x-2">
                    <div class="flex items-center space-x-2">
                        <label for="" class="font-medium text-gray-700 w-40">‡πÄ‡∏•‡∏Ç‡∏ö‡∏±‡∏ï‡∏£‡πÅ‡∏™‡∏î‡∏á‡∏ï‡∏ô :</label>
                        <input type="text" formControlName="stkOWNiD" name="idCard"
                            class="flex-1 border border-gray-300 rounded px-3 py-2 focus:outline-none focus:ring-1 focus:ring-blue-500">
                        <button type="submit"
                            class="bg-green-300 hover:bg-green-400 text-white px-3 py-2 rounded flex items-center justify-center">
                            <span class="text-lg">‚ûï</span>
                        </button>
                    </div>
                                 </form>



                 <div class="flex justify-center space-x-4 mt-6">
                     <!-- ‡∏õ‡∏∏‡πà‡∏°‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å - ‡πÅ‡∏™‡∏î‡∏á‡πÄ‡∏°‡∏∑‡πà‡∏≠‡∏°‡∏µ‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡∏ú‡∏π‡πâ‡∏£‡∏±‡∏ö‡πÇ‡∏≠‡∏ô‡πÄ‡∏ó‡πà‡∏≤‡∏ô‡∏±‡πâ‡∏ô -->
                     <button type="button" (click)="submitAll()"
                         [disabled]="!checkTransferableShares().canTransfer || checkTransferableShares().totalRequested === 0"
                         [class]="checkTransferableShares().canTransfer && checkTransferableShares().totalRequested > 0
                                 ? 'bg-green-500 hover:bg-green-600 text-white px-6 py-2 rounded flex items-center'
                                 : 'bg-gray-400 text-gray-600 px-6 py-2 rounded flex items-center cursor-not-allowed'">
                         ‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å
                     </button>
                    <button type="button" (click)="cancelAll()"
                        class="bg-gray-500 hover:bg-gray-600 text-white px-6 py-2 rounded flex items-center">
                        ‡∏¢‡∏Å‡πÄ‡∏•‡∏¥‡∏Å
                    </button>
                </div>
            </form>
        </div>
    </div>
</div>

    <!-- ‡∏´‡∏ô‡πâ‡∏≤ Summary -->
    <div *ngIf="activeView == 'summary'" class="max-w-7xl mx-auto p-4 shadow-lg rounded-lg">
        <div class="bg-green-500 text-white text-center py-3 rounded-t-lg mb-4">
            <h2 class="text-xl font-semibold">‡πÇ‡∏≠‡∏ô‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡∏°‡∏∑‡∏≠ : ‡∏£‡∏≤‡∏¢‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î</h2>
        </div>

        <div *ngIf="summaryData" class="space-y-4">
            <!-- ‡∏ú‡∏π‡πâ‡πÇ‡∏≠‡∏ô -->
            <div class="bg-blue-100 p-3 mb-4 rounded border border-blue-200">
                <h3 class="text-lg font-semibold text-blue-800 mb-3">‡∏ú‡∏π‡πâ‡πÇ‡∏≠‡∏ô</h3>
                <div class="grid grid-cols-3 gap-2">
                    <div class="text-blue-900">‡∏ä‡∏∑‡πà‡∏≠ - ‡∏ô‡∏≤‡∏°‡∏™‡∏Å‡∏∏‡∏• : {{ summaryData.transferor.name }}</div>
                    <div class="text-blue-900">‡∏´‡∏°‡∏≤‡∏¢‡πÄ‡∏•‡∏Ç‡πÉ‡∏ö‡∏´‡∏∏‡πâ‡∏ô : {{ summaryData.transferor.shareCertificate }}</div>
                    <div class="text-blue-900">‡∏´‡∏°‡∏≤‡∏¢‡πÄ‡∏•‡∏Ç‡∏´‡∏∏‡πâ‡∏ô : {{ summaryData.transferor.shareNumbers }}</div>
                </div>
                <div class="grid grid-cols-3 gap-2 mt-1">
                    <div class="text-blue-900">‡∏à‡∏≥‡∏ô‡∏ß‡∏ô : {{ summaryData.transferor.shareCount }} ‡∏´‡∏∏‡πâ‡∏ô / {{ summaryData.transferor.shareValue }} ‡∏ö‡∏≤‡∏ó</div>
                    <div class="text-blue-900">‡∏£‡∏±‡∏ö‡πÄ‡∏á‡∏¥‡∏ô‡∏õ‡∏±‡∏ô‡∏ú‡∏•‡πÇ‡∏î‡∏¢ : {{ summaryData.transferor.dividendMethod }}</div>
                </div>
            </div>

            <div class="border-t border-blue-300 my-4"></div>

            <!-- ‡∏ú‡∏π‡πâ‡∏£‡∏±‡∏ö‡πÇ‡∏≠‡∏ô -->
            <div class="space-y-4">
                <h3 class="text-lg font-semibold text-blue-800">‡∏ú‡∏π‡πâ‡∏£‡∏±‡∏ö‡πÇ‡∏≠‡∏ô ({{ summaryData.totalRecipients }} ‡∏Ñ‡∏ô)</h3>
                <div *ngFor="let transferee of summaryData.transferees; let i = index" 
                     class="bg-blue-200 p-4 rounded shadow border border-blue-200">
                    <h4 class="font-medium text-blue-700 mb-2">‡∏ú‡∏π‡πâ‡∏£‡∏±‡∏ö‡πÇ‡∏≠‡∏ô‡∏Ñ‡∏ô‡∏ó‡∏µ‡πà {{ i + 1 }}</h4>
                    <div class="grid grid-cols-3 gap-2">
                        <div class="text-blue-900">‡∏ä‡∏∑‡πà‡∏≠ - ‡∏ô‡∏≤‡∏°‡∏™‡∏Å‡∏∏‡∏• : {{ transferee.name }}</div>
                        <div class="text-blue-900">‡∏´‡∏°‡∏≤‡∏¢‡πÄ‡∏•‡∏Ç‡πÉ‡∏ö‡∏´‡∏∏‡πâ‡∏ô : {{ transferee.shareCertificate }}</div>
                        <div class="text-blue-900">‡∏´‡∏°‡∏≤‡∏¢‡πÄ‡∏•‡∏Ç‡∏´‡∏∏‡πâ‡∏ô : {{ transferee.shareNumbers }}</div>
                    </div>
                    <div class="grid grid-cols-3 gap-2 mt-1">
                        <div class="text-blue-900">‡∏à‡∏≥‡∏ô‡∏ß‡∏ô : {{ transferee.shareCount }} ‡∏´‡∏∏‡πâ‡∏ô / {{ transferee.shareValue }} ‡∏ö‡∏≤‡∏ó</div>
                        <div class="text-blue-900">‡∏£‡∏±‡∏ö‡πÄ‡∏á‡∏¥‡∏ô‡∏õ‡∏±‡∏ô‡∏ú‡∏•‡πÇ‡∏î‡∏¢ : {{ transferee.dividendMethod }}</div>
                    </div>
                </div>
            </div>

            <!-- ‡∏õ‡∏∏‡πà‡∏°‡∏Å‡∏•‡∏±‡∏ö -->
            <div class="flex justify-center space-x-4 mt-6">
                <button type="button" (click)="goBack()" 
                        class="bg-blue-500 hover:bg-blue-600 text-white px-6 py-2 rounded flex items-center">
                    ‡∏Å‡∏•‡∏±‡∏ö
                </button>
            </div>
        </div>
    </div>

 <div *ngIf="loading"
     class="fixed inset-0 z-50 flex items-center justify-center bg-gray-100 bg-opacity-40 backdrop-blur-sm"
     style="background-color: rgba(128, 128, 128, 0.7);">
     <div class="text-center">
         <svg class="animate-spin h-10 w-10 text-blue-600 mx-auto mb-4" xmlns="http://www.w3.org/2000/svg" fill="none"
             viewBox="0 0 24 24">
             <circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4" />
             <path class="opacity-75" fill="currentColor" d="M4 12a8 8 0 018-8v4a4 4 0 00-4 4H4z" />
         </svg>
         <p class="text-lg text-white font-medium">üîÑ ‡∏Å‡∏≥‡∏•‡∏±‡∏á‡πÇ‡∏´‡∏•‡∏î‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏• ‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡∏£‡∏≠‡∏™‡∏±‡∏Å‡∏Ñ‡∏£‡∏π‡πà...</p>
     </div>
 </div>