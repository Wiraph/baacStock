<div class="m-2 bg-white shadow-md rounded-md" *ngIf="activeView == 'table'">
  <div class="py-2 bg-green-400 flex justify-center rounded-t-md">
    <p class="text-white">{{ brName }} : ‡∏≠‡∏ô‡∏∏‡∏°‡∏±‡∏ï‡∏¥‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£</p>
  </div>
  <div class="p-4" *ngIf="requestList != ''; else nodata">
    <div class="overflow-x-auto">
      <table class="min-w-full bg-white shadow-md rounded-lg overflow-hidden">
        <thead class="bg-green-400 text-white">
          <tr>
            <th class="p-3 text-left border-b">‡∏•‡∏≥‡∏î‡∏±‡∏ö</th>
            <th class="p-3 text-left border-b">‡πÄ‡∏•‡∏Ç‡∏ó‡∏µ‡πà‡∏ö‡∏±‡∏ï‡∏£‡πÅ‡∏™‡∏î‡∏á‡∏ï‡∏ô</th>
            <th class="p-3 text-left border-b">‡∏ä‡∏∑‡πà‡∏≠ - ‡∏ô‡∏≤‡∏°‡∏™‡∏Å‡∏∏‡∏•</th>
            <th class="p-3 text-left border-b">‡∏™‡∏≤‡∏Ç‡∏≤</th>
            <th class="p-3 text-left border-b">‡∏´‡∏°‡∏≤‡∏¢‡πÄ‡∏•‡∏Ç‡πÉ‡∏ö‡∏´‡∏∏‡πâ‡∏ô</th>
            <th class="p-3 text-right border-b">‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡∏´‡∏∏‡πâ‡∏ô</th>
            <th class="p-3 text-right border-b">‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡πÄ‡∏á‡∏¥‡∏ô</th>
            <th class="p-3 text-center border-b">‡πÅ‡∏™‡∏î‡∏á</th>
          </tr>
        </thead>
        <tbody class="bg-white divide-y divide-gray-200">
          <tr *ngFor="let item of requestList; let i = index" class="hover:bg-green-50 transition duration-150">
            <td class="p-3 text-center">{{ i + 1 }}</td>
            <td class="p-3">{{ item.customerId }}</td>
            <td class="p-3">{{ item.title }}{{ item.customerFirstName }} {{ item.customerLastName }}</td>
            <td class="p-3">{{ item.branchName }}</td>
            <td class="p-3">{{ item.stockNote }}</td>
            <td class="p-3 text-right">{{ item.stockUnit | number:'1.0-0' }}</td>
            <td class="p-3 text-right">{{ item.stockValue | number:'1.0-0' }}</td>
            <td class="p-3 text-center cursor-pointer hover:text-green-600">
              <button (click)="approveDetail(item.stockNote, item.statusCode)">üìù</button>
            </td>
          </tr>
        </tbody>
      </table>
      <div class="flex justify-between items-center mt-4 px-2 text-sm">
        <button (click)="prevPage()" [disabled]="pageNumber <= 1"
          class="px-4 py-2 bg-gray-200 hover:bg-gray-300 rounded disabled:opacity-50 disabled:cursor-not-allowed">
          ‚óÄ ‡∏´‡∏ô‡πâ‡∏≤‡∏Å‡πà‡∏≠‡∏ô
        </button>
        <span class="text-gray-700">‡∏´‡∏ô‡πâ‡∏≤ {{ pageNumber }}</span>
        <button (click)="nextPage()" class="px-4 py-2 bg-gray-200 hover:bg-gray-300 rounded">
          ‡∏´‡∏ô‡πâ‡∏≤‡∏ñ‡∏±‡∏î‡πÑ‡∏õ ‚ñ∂
        </button>
      </div>
    </div>
  </div>
</div>

<ng-template #nodata>
  <div class="py-4">
    <p class="text-center text-orange-500 text-xl">‡πÑ‡∏°‡πà‡∏û‡∏ö‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡∏Ç‡∏≠‡∏≠‡∏ô‡∏∏‡∏°‡∏±‡∏ï‡∏¥</p>
  </div>
</ng-template>


<!-- ‚úÖ Loading Overlay ‡πÅ‡∏ö‡∏ö‡πÇ‡∏õ‡∏£‡πà‡∏á‡πÉ‡∏™ + ‡∏°‡∏≠‡∏á‡∏ó‡∏∞‡∏•‡∏∏ + ‡πÄ‡∏ö‡∏•‡∏≠ -->
<div *ngIf="loading"
  class="fixed inset-0 z-50 flex items-center justify-center bg-gray-100 bg-opacity-40 backdrop-blur-sm"
  style="background-color: rgba(128, 128, 128, 0.7);">
  <div class="text-center">
    <svg class="animate-spin h-10 w-10 text-blue-600 mx-auto mb-4" xmlns="http://www.w3.org/2000/svg" fill="none"
      viewBox="0 0 24 24">
      <circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4" />
      <path class="opacity-75" fill="currentColor" d="M4 12a8 8 0 018-8v4a4 4 0 00-4 4H4z" />
    </svg>
    <p class="text-lg text-white font-medium">üîÑ ‡∏Å‡∏≥‡∏•‡∏±‡∏á‡πÇ‡∏´‡∏•‡∏î‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏• ‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡∏£‡∏≠‡∏™‡∏±‡∏Å‡∏Ñ‡∏£‡∏π‡πà...</p>
  </div>
</div>