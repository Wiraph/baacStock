<!-- ‡πÅ‡∏™‡∏î‡∏á‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡∏´‡∏∏‡πâ‡∏ô -->
<div *ngIf="!showTransferForm">
  <div class="rounded-xl bg-white shadow-xl space-y-6 border border-gray-200">

    <!-- Header -->
    <div class="bg-green-600 p-5 rounded-t-xl text-center shadow-md">
      <h2 class="text-xl font-semibold text-white">üìÑ ‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡πÉ‡∏ö‡∏´‡∏∏‡πâ‡∏ô : ‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•</h2>
    </div>

    <!-- ‡∏õ‡∏∏‡πà‡∏°‡∏Å‡∏•‡∏±‡∏ö -->
    <div class="px-6">
      <button type="button"
        class="bg-gray-600 text-white px-4 py-2 rounded-md hover:bg-gray-700 transition duration-150 ease-in-out"
        (click)="goBack()">
        ‚¨ÖÔ∏è ‡∏Å‡∏•‡∏±‡∏ö
      </button>
    </div>

    <!-- ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏•‡∏π‡∏Å‡∏Ñ‡πâ‡∏≤ -->
    <div class="grid grid-cols-1 md:grid-cols-3 gap-6 px-6">
      <div>
        <label class="block text-sm text-gray-500">‡∏ö‡∏±‡∏ï‡∏£‡πÅ‡∏™‡∏î‡∏á‡∏ï‡∏ô‡πÄ‡∏•‡∏Ç‡∏ó‡∏µ‡πà:</label>
        <p class="text-base font-semibold text-gray-800 border-b py-1">{{ cusId || '-' }}</p>
      </div>
      <div>
        <label class="block text-sm text-gray-500">‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞:</label>
        <p class="text-base font-semibold text-gray-800 border-b py-1">{{ cusData?.staDesc || '-' }}</p>
      </div>
      <div>
        <label class="block text-sm text-gray-500">‡∏ä‡∏∑‡πà‡∏≠ - ‡∏ô‡∏≤‡∏°‡∏™‡∏Å‡∏∏‡∏•:</label>
        <p class="text-base font-semibold text-gray-800 border-b py-1">{{ cusData?.fname || '-' }} {{ cusData?.lname }}
        </p>
      </div>
    </div>

    <div *ngIf="viewMode === 'viewer'">
      <!-- ‡∏ï‡∏≤‡∏£‡∏≤‡∏á‡πÉ‡∏ö‡∏´‡∏∏‡πâ‡∏ô -->
      <div class="overflow-x-auto mx-6 rounded-xl border border-gray-300 shadow-sm mb-4">
        <table class="min-w-full text-sm text-left text-gray-800">
          <thead class="bg-yellow-100 text-gray-700 text-xs uppercase tracking-wide">
            <tr>
              <th class="px-4 py-3 text-center">‡∏•‡∏≥‡∏î‡∏±‡∏ö</th>
              <th class="px-4 py-3">‡∏™‡∏≤‡∏Ç‡∏≤</th>
              <th class="px-4 py-3">‡πÉ‡∏ö‡∏´‡∏∏‡πâ‡∏ô‡πÄ‡∏•‡∏Ç‡∏ó‡∏µ‡πà</th>
              <th class="px-4 py-3">‡πÉ‡∏ö‡∏´‡∏∏‡πâ‡∏ô‡πÄ‡∏î‡∏¥‡∏°</th>
              <th class="px-4 py-3">‡∏´‡∏°‡∏≤‡∏¢‡πÄ‡∏•‡∏Ç‡∏´‡∏∏‡πâ‡∏ô</th>
              <th class="px-4 py-3 text-center">‡∏à‡∏≥‡∏ô‡∏ß‡∏ô</th>
              <th class="px-4 py-3 text-center">‡∏°‡∏π‡∏•‡∏Ñ‡πà‡∏≤</th>
              <th class="px-4 py-3 text-center">‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞</th>
              <th class="px-4 py-3 text-center">‡∏ß‡∏±‡∏ô‡πÄ‡∏ß‡∏•‡∏≤‡∏ó‡∏µ‡πà‡∏ó‡∏≥‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£</th>
            </tr>
          </thead>
          <tbody *ngIf="stockList.length > 0; else noData">
            <tr *ngFor="let stock of stockList; let i = index" [ngClass]="i % 2 === 0 ? 'bg-white' : 'bg-gray-50'">
              <td class="px-4 py-2 text-center">{{ i + 1 }}</td>
              <td class="px-4 py-2">{{ stock.brCode }}</td>
              <td class="px-4 py-2">{{ stock.stkNote }}</td>
              <td class="px-4 py-2">{{ stock.stkNoteo || '-' }}</td>
              <td class="px-4 py-2">{{ stock.stkNostart }} - {{ stock.stkNostop }}</td>
              <td class="px-4 py-2 text-center">{{ stock.stkUniT }}</td>
              <td class="px-4 py-2 text-center">{{ stock.stkValue }}</td>
              <td class="px-4 py-2 text-center">{{ stock.statusDesc }}</td>
              <td class="px-4 py-2 text-center">{{ formatThaiDateTime(stock.datetimeup ?? '') }}</td>
            </tr>
          </tbody>
        </table>
        <!-- ‡∏Å‡∏£‡∏ì‡∏µ‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏• -->
        <ng-template #noData>
          <div class="p-6 text-center text-gray-500 italic">üîé ‡πÑ‡∏°‡πà‡∏û‡∏ö‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÉ‡∏ö‡∏´‡∏∏‡πâ‡∏ô‡πÉ‡∏ô‡∏£‡∏∞‡∏ö‡∏ö</div>
        </ng-template>
      </div>
    </div>
    <div *ngIf="viewMode === 'transfer'">
      <!-- ‡∏ï‡∏≤‡∏£‡∏≤‡∏á‡πÉ‡∏ö‡∏´‡∏∏‡πâ‡∏ô -->
      <div class="overflow-x-auto mx-6 rounded-xl border border-gray-300 shadow-sm mb-4">
        <table class="min-w-full text-sm text-left text-gray-800">
          <thead class="bg-yellow-100 text-gray-700 text-xs uppercase tracking-wide">
            <tr>
              <th class="px-4 py-3 text-center">‡∏•‡∏≥‡∏î‡∏±‡∏ö</th>
              <th class="px-4 py-3">‡∏™‡∏≤‡∏Ç‡∏≤</th>
              <th class="px-4 py-3">‡πÉ‡∏ö‡∏´‡∏∏‡πâ‡∏ô‡πÄ‡∏•‡∏Ç‡∏ó‡∏µ‡πà</th>
              <th class="px-4 py-3">‡πÉ‡∏ö‡∏´‡∏∏‡πâ‡∏ô‡πÄ‡∏î‡∏¥‡∏°</th>
              <th class="px-4 py-3">‡∏´‡∏°‡∏≤‡∏¢‡πÄ‡∏•‡∏Ç‡∏´‡∏∏‡πâ‡∏ô</th>
              <th class="px-4 py-3 text-center">‡∏à‡∏≥‡∏ô‡∏ß‡∏ô</th>
              <th class="px-4 py-3 text-center">‡∏°‡∏π‡∏•‡∏Ñ‡πà‡∏≤</th>
              <th class="px-4 py-3 text-center">‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞</th>
              <th class="px-4 py-3 text-center">‡∏ß‡∏±‡∏ô‡πÄ‡∏ß‡∏•‡∏≤‡∏ó‡∏µ‡πà‡∏ó‡∏≥‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£</th>
              <th class="px-4 py-3 text-center">‡πÇ‡∏≠‡∏ô‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡∏°‡∏∑‡∏≠</th>
            </tr>
          </thead>
          <tbody *ngIf="stockList.length > 0; else noData">
            <tr *ngFor="let stock of stockList; let i = index" [ngClass]="i % 2 === 0 ? 'bg-white' : 'bg-gray-50'">
              <td class="px-4 py-2 text-center">{{ i + 1 }}</td>
              <td class="px-4 py-2">{{ stock.brCode }}</td>
              <td class="px-4 py-2">{{ stock.stkNote }}</td>
              <td class="px-4 py-2">{{ stock.stkNoteo || '-' }}</td>
              <td class="px-4 py-2">{{ stock.stkNostart }} - {{ stock.stkNostop }}</td>
              <td class="px-4 py-2 text-center">{{ stock.stkUniT }}</td>
              <td class="px-4 py-2 text-center">{{ stock.stkValue }}</td>
              <td class="px-4 py-2 text-center">{{ stock.statusDesc }}</td>
              <td class="px-4 py-2 text-center">{{ formatThaiDateTime(stock.datetimeup ?? '') }}</td>
              <td class="px-4 py-2 text-center">
                <button class="cursor-pointer" (click)="onTransferStockClick(stock)">üîÉ</button>
              </td>
            </tr>
          </tbody>
        </table>
        <!-- ‡∏Å‡∏£‡∏ì‡∏µ‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏• -->
        <ng-template #noData>
          <div class="p-6 text-center text-gray-500 italic">üîé ‡πÑ‡∏°‡πà‡∏û‡∏ö‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÉ‡∏ö‡∏´‡∏∏‡πâ‡∏ô‡πÉ‡∏ô‡∏£‡∏∞‡∏ö‡∏ö</div>
        </ng-template>
      </div>
    </div>
  </div>
</div>