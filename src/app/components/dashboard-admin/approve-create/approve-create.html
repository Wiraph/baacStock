<div class="w-full bg-gray-200 fixed inset-0 z-50 flex justify-center py-2">
    <div class="w-9/12 bg-white rounded-xl shadow-md pb-4 overflow-y-auto max-h-screen">
        <button (click)="onClose();"
            class="absolute top-2 right-2 text-gray-500 hover:text-red-600 font-bold focus:outline-none flex align-middle">
            ‚ùå ‡∏õ‡∏¥‡∏î‡∏´‡∏ô‡πâ‡∏≤‡∏ï‡πà‡∏≤‡∏á‡∏ô‡∏µ‡πâ
        </button>
        <!-- ‡∏´‡∏±‡∏ß‡πÄ‡∏£‡∏∑‡πà‡∏≠‡∏á -->
        <div class="bg-green-500 rounded-t-xl text-center py-3">
            <p class="font-semibold text-white">‡∏£‡∏≤‡∏¢‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î : ‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡∏≠‡∏≠‡∏Å‡πÉ‡∏ö‡∏´‡∏∏‡πâ‡∏ô‡πÅ‡∏ó‡∏ô ‡πÉ‡∏ö‡∏´‡∏∏‡πâ‡∏ô‡∏ó‡∏µ‡πà‡∏ä‡∏≥‡∏£‡∏∏‡∏î/‡∏™‡∏π‡∏ç‡∏´‡∏≤‡∏¢</p>
        </div>

        <div class="m-4 rounded-lg bg-white shadow-md overflow-hidden border border-gray-200">
            <!-- ‡∏´‡∏±‡∏ß‡∏Ç‡πâ‡∏≠ -->
            <div class="bg-blue-500 px-4 py-2">
                <h2 class="text-white font-semibold">‡∏ú‡∏π‡πâ‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£</h2>
            </div>
            <!-- ‡∏£‡∏≤‡∏¢‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î‡∏ú‡∏π‡πâ‡∏ó‡∏≥‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£ -->
            <div class="p-4 flex flex-col">
                <p class="text-sm text-gray-700">‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£ : <span class="font-semibold text-gray-800">( ‡πÄ‡∏ß‡∏•‡∏≤ :
                        {{dataconfirm.transaction.date}} ‡∏ô. )</span></p>
                <p class="text-sm text-gray-700">‡∏ú‡∏π‡πâ‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£ : <span class="font-semibold text-gray-800">{{
                        dataconfirm.transaction.username }} ( {{dataconfirm.transaction.lvlCode}} :
                        {{dataconfirm.transaction.lvlDesc}} )</span></p>
                <p class="text-sm text-gray-700">‡∏™‡∏≤‡∏Ç‡∏≤‡∏ó‡∏µ‡πà‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£ : <span
                        class="font-semibold text-gray-800">{{dataconfirm.transaction.brCode}} :
                        {{dataconfirm.transaction.brNme}}</span>
                </p>
            </div>
        </div>

        <!-- ‡∏£‡∏≤‡∏¢‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î -->
        <div class="m-4 rounded-lg bg-white shadow-md overflow-hidden border border-gray-200">

            <!-- ‡∏´‡∏±‡∏ß‡∏Ç‡πâ‡∏≠ -->
            <div class="bg-blue-500 px-4 py-2">
                <h2 class="text-white text-lg font-semibold">‡∏£‡∏≤‡∏¢‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î‡∏ú‡∏π‡πâ‡∏ñ‡∏∑‡∏≠‡∏´‡∏∏‡πâ‡∏ô / ‡πÉ‡∏ö‡∏´‡∏∏‡πâ‡∏ô</h2>
            </div>
            <!-- ‡πÄ‡∏ô‡∏∑‡πâ‡∏≠‡∏´‡∏≤ -->
            <div class="p-4 space-y-4 text-sm text-gray-700">
                <!-- ‡πÄ‡∏•‡∏Ç‡∏ó‡∏µ‡πà‡∏ö‡∏±‡∏ï‡∏£‡πÅ‡∏™‡∏î‡∏á‡∏ï‡∏ô -->
                <p class="text-sm text-gray-700">
                    ‡πÄ‡∏•‡∏Ç‡∏ó‡∏µ‡πà‡∏ö‡∏±‡∏ï‡∏£‡πÅ‡∏™‡∏î‡∏á‡∏ï‡∏ô :
                    <span class="font-semibold text-gray-800">{{dataconfirm.sender.cusId}}</span>
                </p>
                <!-- ‡∏ä‡∏∑‡πà‡∏≠ -->
                <p class="text-sm text-gray-700">
                    ‡∏ä‡∏∑‡πà‡∏≠ - ‡∏ô‡∏≤‡∏°‡∏™‡∏Å‡∏∏‡∏• :
                    <span
                        class="font-semibold text-gray-800">{{dataconfirm.sender.titleCus}}{{dataconfirm.sender.cusFname}}
                        {{dataconfirm.sender.cusLname}} [ {{dataconfirm.sender.cusCodeg}} ] </span>
                </p>
                <!-- ‡∏´‡∏°‡∏≤‡∏¢‡πÄ‡∏•‡∏Ç‡∏´‡∏∏‡πâ‡∏ô -->
                <div class="space-y-1">
                    <p>‡∏´‡∏°‡∏≤‡∏¢‡πÄ‡∏•‡∏Ç‡πÉ‡∏ö‡∏´‡∏∏‡πâ‡∏ô: <span class="font-semibold text-gray-800">{{dataconfirm.sender.stkNote}}</span>
                    </p>
                    <p>‡∏´‡∏°‡∏≤‡∏¢‡πÄ‡∏•‡∏Ç‡∏´‡∏∏‡πâ‡∏ô: <span class="font-semibold text-gray-800">{{dataconfirm.sender.stkNostart}} -
                            {{dataconfirm.sender.stkNostop}}</span>
                    </p>
                </div>
                <!-- ‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡πÅ‡∏•‡∏∞‡∏°‡∏π‡∏•‡∏Ñ‡πà‡∏≤‡∏´‡∏∏‡πâ‡∏ô -->
                <div class="flex flex-wrap gap-8">
                    <p>‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡∏´‡∏∏‡πâ‡∏ô: <span class="font-semibold">{{dataconfirm.sender.unit}} ‡∏´‡∏∏‡πâ‡∏ô</span></p>
                    <p>‡∏°‡∏π‡∏•‡∏Ñ‡πà‡∏≤‡∏´‡∏∏‡πâ‡∏ô: <span class="font-semibold">{{dataconfirm.sender.value | number:'1.0-0'}} ‡∏ö‡∏≤‡∏ó</span></p>
                </div>
                <!-- ‡∏ß‡∏¥‡∏ò‡∏µ‡∏£‡∏±‡∏ö‡∏õ‡∏±‡∏ô‡∏ú‡∏• -->
                <div class="flex gap-4">
                    <p>‡∏£‡∏±‡∏ö‡πÄ‡∏á‡∏¥‡∏ô‡∏õ‡∏±‡∏ô‡∏ú‡∏•‡πÇ‡∏î‡∏¢: <span class="font-semibold">{{dataconfirm.sender.payDesc}}</span></p>
                    <div *ngIf="dataconfirm.sender.stkPayType == '001'" class="flex gap-2">
                        <p>‡∏ä‡∏∑‡πà‡∏≠‡∏ö‡∏±‡∏ç‡∏ä‡∏µ: <span class="font-semibold">{{dataconfirm.sender.accname}}</span></p>
                        <p>‡πÄ‡∏•‡∏Ç‡∏ó‡∏µ‡πà‡∏ö‡∏±‡∏ç‡∏ä‡∏µ <span class="font-semibold">{{dataconfirm.sender.accno}}</span></p>
                    </div>
                </div>
                <!-- ‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞‡πÉ‡∏ö‡∏´‡πâ‡∏∏‡∏ô -->
                <div class="flex flex-col gap-2">
                    <p>‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞‡πÉ‡∏ö‡∏´‡∏∏‡πâ‡∏ô : <span class="font-semibold">{{ dataconfirm.sender.staDesc || "-" }}</span></p>
                    <p>‡∏´‡∏°‡∏≤‡∏¢‡πÄ‡∏´‡∏ï‡∏∏ : <span class="font-semibold">{{ dataconfirm.sender.note || "-" }}</span></p>
                </div>
            </div>
        </div>

        <div class="m-4 rounded-lg bg-white shadow-md overflow-hidden border border-gray-200" *ngFor="let receiver of dataconfirm.receivers">
            <!-- ‡∏´‡∏±‡∏ß‡∏Ç‡πâ‡∏≠ -->
            <div class="bg-blue-500 px-4 py-2">
                <h2 class="text-white text-lg font-semibold">‡∏ú‡∏π‡πâ‡∏£‡∏±‡∏ö‡πÇ‡∏≠‡∏ô</h2>
            </div>
            <!-- ‡πÄ‡∏ô‡∏∑‡πâ‡∏≠‡∏´‡∏≤ -->
            <div class="p-4 space-y-4 text-sm text-gray-700" >
                <!-- ‡πÄ‡∏•‡∏Ç‡∏ó‡∏µ‡πà‡∏ö‡∏±‡∏ï‡∏£‡πÅ‡∏™‡∏î‡∏á‡∏ï‡∏ô -->
                <p class="text-sm text-gray-700">
                    ‡πÄ‡∏•‡∏Ç‡∏ó‡∏µ‡πà‡∏ö‡∏±‡∏ï‡∏£‡πÅ‡∏™‡∏î‡∏á‡∏ï‡∏ô :
                    <span class="font-semibold text-gray-800">{{receiver.cusId}}</span>
                </p>
                <!-- ‡∏ä‡∏∑‡πà‡∏≠ -->
                <p class="text-sm text-gray-700">
                    ‡∏ä‡∏∑‡πà‡∏≠ - ‡∏ô‡∏≤‡∏°‡∏™‡∏Å‡∏∏‡∏• : 
                    <span class="font-semibold text-gray-800">{{ receiver.titleCus }}{{ receiver.cusFname }} {{
                        receiver.cusLname }} [ {{ receiver.cusCodeg }} ]</span>
                </p>
                <!-- ‡∏´‡∏°‡∏≤‡∏¢‡πÄ‡∏•‡∏Ç‡∏´‡∏∏‡πâ‡∏ô -->
                <div class="space-y-1">
                    <p>‡∏´‡∏°‡∏≤‡∏¢‡πÄ‡∏•‡∏Ç‡∏´‡∏∏‡πâ‡∏ô: <span class="font-semibold text-gray-800">{{ receiver.stkNote }}</span><span
                            class="text-gray-500 font-normal ml-4">(‡∏ä‡∏±‡πà‡∏ß‡∏Ñ‡∏£‡∏≤‡∏ß)</span></p>
                    <p>‡∏´‡∏°‡∏≤‡∏¢‡πÄ‡∏•‡∏Ç‡πÉ‡∏ö‡∏´‡∏∏‡πâ‡∏ô: <span class="font-semibold text-gray-800">{{ receiver.stkNostart }} - {{
                            receiver.stkNostop }}</span>
                    </p>
                </div>
                <!-- ‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡πÅ‡∏•‡∏∞‡∏°‡∏π‡∏•‡∏Ñ‡πà‡∏≤‡∏´‡∏∏‡πâ‡∏ô -->
                <div class="flex flex-wrap gap-8">
                    <p>‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡∏´‡∏∏‡πâ‡∏ô: <span class="font-semibold">{{ receiver.unit }} ‡∏´‡∏∏‡πâ‡∏ô</span></p>
                    <p>‡∏°‡∏π‡∏•‡∏Ñ‡πà‡∏≤‡∏´‡∏∏‡πâ‡∏ô: <span class="font-semibold">{{ receiver.value | number:'1.0-0' }} ‡∏ö‡∏≤‡∏ó</span></p>
                </div>
                <!-- ‡∏ß‡∏¥‡∏ò‡∏µ‡∏£‡∏±‡∏ö‡∏õ‡∏±‡∏ô‡∏ú‡∏• -->
                <div class="flex gap-4">
                    <p>‡∏£‡∏±‡∏ö‡πÄ‡∏á‡∏¥‡∏ô‡∏õ‡∏±‡∏ô‡∏ú‡∏•‡πÇ‡∏î‡∏¢: <span class="font-semibold">{{ receiver.payDesc }}</span></p>
                    <div *ngIf="receiver.stkPayType == '001'" class="flex gap-2">
                        <p>‡∏ä‡∏∑‡πà‡∏≠‡∏ö‡∏±‡∏ç‡∏ä‡∏µ: <span class="font-semibold">{{ receiver.accname }}</span></p>
                        <p>‡πÄ‡∏•‡∏Ç‡∏ó‡∏µ‡πà‡∏ö‡∏±‡∏ç‡∏ä‡∏µ <span class="font-semibold">{{ receiver.accno }}</span></p>
                    </div>
                </div>
                <!-- ‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞‡πÉ‡∏ö‡∏´‡πâ‡∏∏‡∏ô -->
                <div class="flex flex-col gap-4">
                    <p>‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞‡πÉ‡∏ö‡∏´‡∏∏‡πâ‡∏ô : <span class="font-semibold">{{ receiver.staDesc }}</span></p>
                    <p>‡∏´‡∏°‡∏≤‡∏¢‡πÄ‡∏´‡∏ï‡∏∏ : <span class="font-semibold">{{ receiver.remDesc }}</span></p>
                </div>
            </div>
        </div>
        <div class="flex justify-center gap-3 mb-5">
            <button (click)="onConfirm();" class="px-5 py-2 bg-green-300 rounded-sm cursor-pointer hover:shadow-md hover:bg-green-400">‡∏≠‡∏ô‡∏∏‡∏°‡∏±‡∏ï‡∏¥</button>
            <button (click)="onCancel();" class="px-5 py-2 bg-red-300 rounded-sm cursor-pointer hover:shadow-md hover:bg-red-400">‡πÑ‡∏°‡πà‡∏≠‡∏ô‡∏∏‡∏°‡∏±‡∏ï‡∏¥</button>
        </div>
    </div>
</div>
<!-- ‚úÖ Loading Overlay ‡πÅ‡∏ö‡∏ö‡πÇ‡∏õ‡∏£‡πà‡∏á‡πÉ‡∏™ + ‡∏°‡∏≠‡∏á‡∏ó‡∏∞‡∏•‡∏∏ + ‡πÄ‡∏ö‡∏•‡∏≠ -->
<div *ngIf="loading"
    class="fixed inset-0 z-50 flex items-center justify-center bg-gray-100 bg-opacity-40 backdrop-blur-sm"
    style="background-color: rgba(128, 128, 128, 0.7);">
    <div class="text-center">
        <svg class="animate-spin h-10 w-10 text-blue-600 mx-auto mb-4" xmlns="http://www.w3.org/2000/svg" fill="none"
            viewBox="0 0 24 24">
            <circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4" />
            <path class="opacity-75" fill="currentColor" d="M4 12a8 8 0 018-8v4a4 4 0 00-4 4H4z" />
        </svg>
        <p class="text-lg text-white font-medium">üîÑ ‡∏Å‡∏≥‡∏•‡∏±‡∏á‡πÇ‡∏´‡∏•‡∏î‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏• ‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡∏£‡∏≠‡∏™‡∏±‡∏Å‡∏Ñ‡∏£‡∏π‡πà...</p>
    </div>
</div>